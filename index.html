<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Premium Greeting - Untuk Fanya</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #f59e0b;
            --bg: #020617;
            --text-main: #e7e5e4;
        }
        body {
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
            overflow-x: hidden;
            background-color: var(--bg);
            color: var(--text-main);
            transition: background-color 1s ease, color 1s ease;
        }
        .font-serif { font-family: 'Playfair Display', serif; }
        .font-handwriting { font-family: 'Dancing Script', cursive; }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(3deg); }
        }
        .animate-float { animation: float 6s ease-in-out infinite; }

        .snow-particle {
            position: fixed;
            top: -10%;
            pointer-events: none;
            z-index: 50;
            animation: fall linear infinite;
        }
        @keyframes fall {
            to { transform: translateY(110vh) rotate(360deg); }
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: background 1s ease, border 1s ease;
        }

        .warm-mode {
            --bg: #fcf8f1;
            --text-main: #4a3728;
            background-color: var(--bg) !important;
            color: var(--text-main) !important;
        }
        .warm-mode .glass-card {
            background: rgba(255, 255, 255, 0.7) !important;
            border-color: rgba(74, 55, 40, 0.1) !important;
            color: #4a3728 !important;
        }
        .warm-mode .adaptive-text { color: #1c1917 !important; }
        .warm-mode .adaptive-subtext { color: #78716c !important; }

        .hidden-content { display: none; opacity: 0; }
        .visible-content { display: block; opacity: 1; transition: opacity 1s ease; }

        .slider-container {
            display: flex;
            width: max-content;
            gap: 25px;
            padding: 40px 20px;
            will-change: transform; /* Optimasi hardware acceleration */
        }
        .photo-card {
            flex-shrink: 0;
            width: 260px;
            box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.5);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border-radius: 1.5rem;
            background: white;
            padding: 12px;
        }
        .photo-card:hover {
            transform: scale(1.08) translateY(-15px) rotate(3deg) !important;
            z-index: 20;
        }

        .heart-click {
            position: fixed;
            pointer-events: none;
            z-index: 99;
            font-size: 20px;
            animation: heartOut 1s ease-out forwards;
        }
        @keyframes heartOut {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(2) translateY(-50px); opacity: 0; }
        }

        /* Initial State for GSAP Reveal */
        .reveal { opacity: 0; transform: translateY(40px); }

        .love-checkbox input:checked + .wish-card .heart-box {
            background: #ef4444 !important;
            color: white !important;
            border-color: #ef4444 !important;
            transform: scale(1.2);
        }
        .love-checkbox input:checked + .wish-card .heart-box i {
            fill: white;
        }
        .love-checkbox input:checked + .wish-card {
            border-color: rgba(239, 68, 68, 0.3);
            background: rgba(239, 68, 68, 0.05);
        }
        .heart-box { transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .wish-card { transition: all 0.3s ease; }
    </style>
</head>
<body id="body" onclick="createHeart(event)">

    <audio id="bgMusic" loop src="aset/backsound.mp3"></audio>
    <div id="snowContainer"></div>

    <!-- Toolbar Bawah -->
    <div class="fixed bottom-6 left-1/2 -translate-x-1/2 z-[60] flex flex-row gap-3 bg-black/40 backdrop-blur-2xl p-2 rounded-full border border-white/10 shadow-2xl">
        <button onclick="toggleMusic()" id="musicBtn" class="p-4 rounded-full bg-white/5 border border-white/10 active:scale-90 transition-all">
            <i data-lucide="volume-x" class="w-5 h-5 text-stone-400"></i>
        </button>
        <button onclick="toggleWarmMode()" id="themeBtn" class="p-4 rounded-full bg-white/5 border border-white/10 active:scale-90 transition-all">
            <i data-lucide="moon" class="w-5 h-5 text-amber-400"></i>
        </button>
        <button onclick="shareLink()" class="p-4 rounded-full bg-white/5 border border-white/10 active:scale-90 transition-all">
            <i data-lucide="share-2" class="w-5 h-5 text-stone-300"></i>
        </button>
        <button onclick="launchFireworks()" class="p-4 rounded-full bg-amber-500/20 border border-amber-500/30 active:scale-90 transition-all">
            <i data-lucide="sparkles" class="w-5 h-5 text-amber-400"></i>
        </button>
    </div>

    <!-- 1. OPENING SCREEN -->
    <div id="openingScreen" class="fixed inset-0 z-[100] flex items-center justify-center bg-[#020617] p-6">
        <div class="w-full max-sm text-center">
            <div class="bg-white p-8 rounded-[2.5rem] shadow-[0_40px_80px_-15px_rgba(0,0,0,0.8)] transform rotate-[-1deg]">
                <div class="border-2 border-dashed border-stone-100 p-8 rounded-[2rem]">
                    <div class="animate-bounce">
                        <div class="w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6">
                            <i data-lucide="heart" class="text-red-500 w-10 h-10 fill-red-500"></i>
                        </div>
                    </div>
                    <h3 class="font-handwriting text-3xl text-stone-600 mb-2">Sayangku,</h3>
                    <h2 class="font-serif text-5xl text-stone-900 mb-6 font-bold tracking-tight">Fanya</h2>
                    <p class="text-stone-400 text-[10px] mb-10 uppercase tracking-[0.3em]">Exclusively for you</p>
                    <button onclick="openGift()" class="w-full py-5 bg-stone-900 text-white rounded-2xl font-serif text-lg tracking-[0.2em] hover:bg-black active:scale-95 transition-all shadow-xl">
                        BUKA SURAT
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <main id="mainContent" class="hidden-content">
        
        <!-- 2. HERO SECTION -->
        <section class="h-screen flex flex-col items-center justify-center px-6 text-center relative">
            <div class="reveal space-y-8">
                <div class="inline-block px-6 py-2 rounded-full bg-amber-500/10 border border-amber-500/20 text-amber-500 text-xs font-bold tracking-[0.5em] uppercase shadow-inner">
                    Memori 2025
                </div>
                <h1 class="text-5xl md:text-7xl font-handwriting text-white adaptive-text leading-[1.3] transition-colors duration-1000">
                    Dear Fanya, <br> Makasih udah sabar nemenin aku sampai sejauh ini.
                </h1>
                
                <div class="grid grid-cols-4 gap-4 max-w-xs mx-auto pt-10">
                    <div class="flex flex-col"><span id="days" class="text-2xl font-bold text-amber-500">00</span><span class="text-[10px] uppercase opacity-50 adaptive-subtext transition-colors duration-1000">Hari</span></div>
                    <div class="flex flex-col"><span id="hours" class="text-2xl font-bold text-amber-500">00</span><span class="text-[10px] uppercase opacity-50 adaptive-subtext transition-colors duration-1000">Jam</span></div>
                    <div class="flex flex-col"><span id="mins" class="text-2xl font-bold text-amber-500">00</span><span class="text-[10px] uppercase opacity-50 adaptive-subtext transition-colors duration-1000">Menit</span></div>
                    <div class="flex flex-col"><span id="secs" class="text-2xl font-bold text-amber-500">00</span><span class="text-[10px] uppercase opacity-50 adaptive-subtext transition-colors duration-1000">Detik</span></div>
                </div>
                <p class="text-stone-500 text-xs italic pt-4 adaptive-subtext transition-colors duration-1000">Menuju petualangan baru di 2026 bersama Fanya</p>
                
                <div class="pt-24 opacity-30 animate-pulse adaptive-subtext transition-colors duration-1000">
                    <i data-lucide="mouse-pointer-2" class="mx-auto w-5 h-5 mb-2"></i>
                    <p class="text-[9px] tracking-[0.4em] uppercase">Scroll Perlahan</p>
                </div>
            </div>
        </section>

        <!-- 3. MOMENTS -->
        <section class="py-24 overflow-hidden">
            <div class="reveal text-center mb-16 px-6">
                <h2 class="text-3xl md:text-5xl font-serif mb-4 adaptive-text">Galeri Kebahagiaan</h2>
                <div class="w-16 h-1 bg-amber-500 mx-auto rounded-full mb-6"></div>
                <p class="text-stone-500 text-sm italic max-w-xs mx-auto adaptive-subtext">Setiap langkah kita adalah seni yang abadi.</p>
            </div>

            <div class="relative w-full overflow-hidden select-none">
                <div id="sliderTrack" class="slider-container">
                    <div class="photo-card transform rotate-[-3deg]">
                        <div class="w-full h-72 overflow-hidden rounded-xl">
                            <img src="aset/wed.webp" class="w-full h-full object-cover" alt="Moment 1">
                        </div>
                        <p class="font-handwriting text-stone-800 text-2xl mt-4 text-center">Hari Bahagia ‚ú®</p>
                    </div>
                    <div class="photo-card transform rotate-[2deg]">
                        <div class="w-full h-72 overflow-hidden rounded-xl">
                            <img src="aset/wid.webp" class="w-full h-full object-cover" alt="Moment 2">
                        </div>
                        <p class="font-handwriting text-stone-800 text-2xl mt-4 text-center">Kelayapan Bareng</p>
                    </div>
                    <div class="photo-card transform rotate-[-2deg]">
                        <div class="w-full h-72 overflow-hidden rounded-xl">
                            <img src="aset/wih.webp" class="w-full h-full object-cover" alt="Moment 3">
                        </div>
                        <p class="font-handwriting text-stone-800 text-2xl mt-4 text-center">Staycation with ‚ù§Ô∏è</p>
                    </div>
                    <div class="photo-card transform rotate-[-2deg]">
                        <div class="w-full h-72 overflow-hidden rounded-xl">
                            <img src="aset/wod.webp" class="w-full h-full object-cover" alt="Moment 4">
                        </div>
                        <p class="font-handwriting text-stone-800 text-2xl mt-4 text-center">Warm Hug</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. LETTER -->
        <section class="py-24 px-6">
            <div class="reveal glass-card max-w-2xl mx-auto rounded-[3rem] p-10 md:p-20 relative shadow-[0_50px_100px_-20px_rgba(0,0,0,0.5)]">
                <div class="absolute -top-10 left-1/2 -translate-x-1/2 md:left-20 md:translate-x-0 z-10">
                    <div class="animate-float">
                        <div class="w-32 h-32 rounded-[2rem] border-8 border-white/5 overflow-hidden shadow-2xl rotate-[10deg]">
                            <img src="aset/wud.webp" class="w-full h-full object-cover" alt="Kita">
                        </div>
                    </div>
                </div>
                <div class="mt-16 space-y-8">
                    <h3 class="font-handwriting text-5xl text-amber-500">Fanya Sayang,</h3>
                    <div class="letter-reveal-content space-y-6 text-2xl md:text-3xl font-handwriting leading-relaxed opacity-90 adaptive-text">
                        <p>Tahun 2025 ini telah memberi kita ribuan cerita. Terima kasih sudah tetap sabar dan menjadi rumah yang selalu aku tuju.</p>
                        <p>Di 2026 nanti, aku ingin kita tetap seperti ini. Tidak perlu sempurna, asal kita selalu berdua.</p>
                    </div>
                    <div class="pt-12 text-right border-t border-white/10">
                        <p class="font-serif italic text-sm opacity-40 uppercase tracking-widest">Love Always,</p>
                        <p class="font-handwriting text-4xl text-amber-500 mt-2">Suamimu</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 5. INTERACTIVE WISHLIST -->
        <section id="wishlist" class="py-24 px-6 text-center">
            <div class="reveal max-w-md mx-auto space-y-10">
                <h3 class="text-2xl font-serif italic adaptive-text">"Apa harapanmu di 2026?"</h3>
                <div class="space-y-4">
                    <label class="wish-item block cursor-pointer group">
                        <input type="checkbox" class="love-checkbox hidden">
                        <div class="wish-card p-5 glass-card rounded-2xl flex items-center justify-between transition-all group-active:scale-95">
                            <p class="font-serif text-lg text-left adaptive-text">Traveling ke tempat baru berdua</p>
                            <div class="heart-box w-10 h-10 rounded-full border border-amber-500/30 flex items-center justify-center text-amber-500 flex-shrink-0">
                                <i data-lucide="heart" class="w-5 h-5"></i>
                            </div>
                        </div>
                    </label>
                    <label class="wish-item block cursor-pointer group">
                        <input type="checkbox" class="love-checkbox hidden">
                        <div class="wish-card p-5 glass-card rounded-2xl flex items-center justify-between transition-all group-active:scale-95">
                            <p class="font-serif text-lg text-left adaptive-text">Lebih banyak waktu Deep Talk</p>
                            <div class="heart-box w-10 h-10 rounded-full border border-amber-500/30 flex items-center justify-center text-amber-500 flex-shrink-0">
                                <i data-lucide="heart" class="w-5 h-5"></i>
                            </div>
                        </div>
                    </label>
                    <label class="wish-item block cursor-pointer group">
                        <input type="checkbox" class="love-checkbox hidden">
                        <div class="wish-card p-5 glass-card rounded-2xl flex items-center justify-between transition-all group-active:scale-95">
                            <p class="font-serif text-lg text-left adaptive-text">Sehat dan bahagia selamanya</p>
                            <div class="heart-box w-10 h-10 rounded-full border border-amber-500/30 flex items-center justify-center text-amber-500 flex-shrink-0">
                                <i data-lucide="heart" class="w-5 h-5"></i>
                            </div>
                        </div>
                    </label>
                </div>
                <p class="reveal text-[10px] opacity-40 italic adaptive-subtext uppercase tracking-widest">*Klik love ya, supaya bisa wujudin bareng </p>
            </div>
        </section>

        <!-- 6. WHATSAPP LOVE MESSAGE -->
        <section class="py-24 px-6">
            <div class="reveal max-w-md mx-auto glass-card rounded-[2.5rem] p-8 space-y-6">
                <div class="flex items-center gap-4 mb-2">
                    <div class="w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center text-green-500">
                        <i data-lucide="message-circle" class="w-6 h-6"></i>
                    </div>
                    <div>
                        <h4 class="font-serif text-xl adaptive-text">Kirim Pesan Cinta</h4>
                        <p class="text-[10px] opacity-50 uppercase adaptive-subtext">Langsung ke Suami Tercinta</p>
                    </div>
                </div>
                <textarea id="loveMessage" rows="4" class="w-full bg-white/5 border border-white/10 rounded-2xl p-4 font-serif text-sm focus:outline-none focus:border-amber-500 transition-all adaptive-text" placeholder="Tulis pesanmu di sini...">Mas, makasih ya buat kejutan manisnya. Aku suka banget! Semoga di 2026 kita makin bahagia terus. I love you! ‚ù§Ô∏è</textarea>
                <button onclick="sendWhatsApp()" class="w-full py-4 bg-green-600 hover:bg-green-700 text-white rounded-2xl font-bold flex items-center justify-center gap-3 transition-all active:scale-95 shadow-lg shadow-green-900/20">
                    <i data-lucide="send" class="w-5 h-5"></i>
                    KIRIM KE WHATSAPP
                </button>
            </div>
        </section>

        <!-- 7. FINAL CTA -->
        <section class="py-24 text-center px-6 mb-20">
            <div class="reveal">
                <button onclick="launchFireworks()" class="w-full max-w-sm py-6 bg-gradient-to-br from-amber-400 via-amber-600 to-orange-700 rounded-3xl font-serif text-xl text-white shadow-[0_20px_50px_rgba(217,119,6,0.4)] hover:shadow-amber-500/50 active:scale-95 transition-all uppercase tracking-[0.3em] font-bold">
                    Mulai 2026 ‚ú®
                </button>
            </div>
        </section>

        <footer class="pb-32 text-center opacity-20 adaptive-subtext transition-colors duration-1000">
            <p class="text-[10px] uppercase tracking-[0.5em] font-serif">Created with Love &bull; 2025</p>
        </footer>
    </main>

    <script>
        gsap.registerPlugin(ScrollTrigger);
        lucide.createIcons();

        let isPlaying = false;
        let isWarmMode = false;
        const bgMusic = document.getElementById('bgMusic');
        const MY_PHONE_NUMBER = "6281234567890"; 

        function createSnow() {
            const container = document.getElementById('snowContainer');
            container.innerHTML = ''; 
            const icons = ['‚ùÑ', '‚ùÖ', '‚ùÜ', '‚ú®'];
            for (let i = 0; i < 40; i++) {
                const snow = document.createElement('div');
                snow.className = 'snow-particle';
                snow.innerHTML = icons[Math.floor(Math.random() * icons.length)];
                snow.style.left = Math.random() * 100 + 'vw';
                snow.style.fontSize = (Math.random() * 10 + 10) + 'px';
                snow.style.opacity = Math.random();
                snow.style.animationDuration = (Math.random() * 10 + 10) + 's';
                snow.style.animationDelay = (Math.random() * 10) + 's';
                snow.style.color = isWarmMode ? '#4a3728' : '#ffffff';
                container.appendChild(snow);
            }
        }

        function updateCountdown() {
            const nextYear = new Date('Jan 1, 2026 00:00:00').getTime();
            const now = new Date().getTime();
            const diff = nextYear - now;
            const d = Math.floor(diff / (1000 * 60 * 60 * 24));
            const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((diff % (1000 * 60)) / 1000);
            
            const daysEl = document.getElementById('days');
            if (daysEl) {
                daysEl.innerText = d.toString().padStart(2, '0');
                document.getElementById('hours').innerText = h.toString().padStart(2, '0');
                document.getElementById('mins').innerText = m.toString().padStart(2, '0');
                document.getElementById('secs').innerText = s.toString().padStart(2, '0');
            }
        }
        setInterval(updateCountdown, 1000);

        function createHeart(e) {
            if(e.target.closest('button') || e.target.closest('label') || e.target.closest('textarea')) return;
            const heart = document.createElement('div');
            heart.className = 'heart-click';
            heart.innerHTML = '‚ù§Ô∏è';
            heart.style.left = e.clientX + 'px';
            heart.style.top = e.clientY + 'px';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 1000);
        }

        // PERBAIKAN: GSAP Marquee untuk slider super smooth
        function initAutoSlider() {
            const track = document.getElementById('sliderTrack');
            if (!track) return;
            
            // Clone inner content for infinite loop
            const originalContent = track.innerHTML;
            track.innerHTML = originalContent + originalContent;
            
            const totalWidth = track.scrollWidth / 2;
            
            gsap.to(track, {
                x: -totalWidth,
                duration: 40,
                ease: "none",
                repeat: -1,
                overwrite: "auto"
            });
        }

        // PERBAIKAN: Scroll Reveal profesional satu per satu
        function initScrollReveal() {
            document.querySelectorAll('.reveal').forEach((el, i) => {
                gsap.to(el, {
                    scrollTrigger: {
                        trigger: el,
                        start: "top 85%",
                        toggleActions: "play none none none"
                    },
                    opacity: 1,
                    y: 0,
                    duration: 1.2,
                    ease: "power3.out"
                });
            });

            // Stagger for Wishlist items
            gsap.from(".wish-item", {
                scrollTrigger: {
                    trigger: "#wishlist",
                    start: "top 80%"
                },
                opacity: 0,
                x: -20,
                duration: 0.8,
                stagger: 0.2,
                ease: "power2.out"
            });

            // Stagger for Letter paragraphs
            gsap.from(".letter-reveal-content p", {
                scrollTrigger: {
                    trigger: ".letter-reveal-content",
                    start: "top 80%"
                },
                opacity: 0,
                y: 15,
                duration: 1,
                stagger: 0.4,
                ease: "power2.out"
            });
        }

        function sendWhatsApp() {
            const msg = document.getElementById('loveMessage').value;
            const url = `https://wa.me/${MY_PHONE_NUMBER}?text=${encodeURIComponent(msg)}`;
            window.open(url, '_blank');
        }

        function shareLink() {
            const shareData = {
                title: 'Greeting for Fanya',
                text: 'Lihat kartu ucapan spesial untuk Fanya!',
                url: window.location.href
            };
            if (navigator.share) {
                navigator.share(shareData).catch(() => {});
            } else {
                const dummy = document.createElement('input');
                document.body.appendChild(dummy);
                dummy.value = window.location.href;
                dummy.select();
                document.execCommand('copy');
                document.body.removeChild(dummy);
                const toast = document.createElement('div');
                toast.className = 'fixed top-10 left-1/2 -translate-x-1/2 bg-black/80 text-white px-6 py-3 rounded-full z-[100] text-sm';
                toast.innerText = 'Link disalin ke clipboard! üìã';
                document.body.appendChild(toast);
                setTimeout(() => toast.remove(), 2000);
            }
        }

        function toggleMusic() {
            const btn = document.getElementById('musicBtn');
            if (isPlaying) {
                bgMusic.pause();
                btn.innerHTML = '<i data-lucide="volume-x" class="w-5 h-5 text-stone-400"></i>';
            } else {
                bgMusic.play().catch(e => console.log("Audio blocked"));
                btn.innerHTML = '<i data-lucide="volume-2" class="w-5 h-5 text-white"></i>';
            }
            isPlaying = !isPlaying;
            lucide.createIcons();
        }

        function toggleWarmMode() {
            isWarmMode = !isWarmMode;
            document.getElementById('body').classList.toggle('warm-mode');
            const btn = document.getElementById('themeBtn');
            btn.innerHTML = isWarmMode ? '<i data-lucide="sun" class="w-5 h-5"></i>' : '<i data-lucide="moon" class="w-5 h-5 text-amber-400"></i>';
            document.querySelectorAll('.snow-particle').forEach(p => {
                p.style.color = isWarmMode ? '#4a3728' : '#ffffff';
            });
            lucide.createIcons();
        }

        function openGift() {
            gsap.to("#openingScreen", {
                opacity: 0, 
                y: -100, 
                duration: 1.2, 
                ease: "expo.inOut",
                onComplete: () => {
                    document.getElementById('openingScreen').style.display = 'none';
                    document.getElementById('mainContent').classList.add('visible-content');
                    initAutoSlider(); 
                    initScrollReveal(); 
                    launchFireworks(); 
                    toggleMusic(); 
                    createSnow();
                }
            });
        }

        function launchFireworks() {
            confetti({ 
                particleCount: 150, 
                spread: 70, 
                origin: { y: 0.6 }, 
                colors: ['#f59e0b', '#ef4444', '#ffffff', '#fbbf24'] 
            });
        }
    </script>
</body>
</html>
